# This file contains all key variables to change them easy
#
# Based on us layout

# Top row

set $letter_q 24
set $letter_w 25
set $letter_e 26
set $letter_r 27
set $letter_t 28
set $letter_y 29
set $letter_u 30
set $letter_i 31
set $letter_o 32
set $letter_p 33
set $letter_ß 34

# Middle row

set $letter_a 38
set $letter_s 39
set $letter_d 40
set $letter_f 41
set $letter_g 42
set $letter_h 43
set $letter_j 44
set $letter_k 45
set $letter_l 46
set $letter_: 47
# set $letter_' 48

# Low row

set $letter_z 52
set $letter_x 53
set $letter_c 54
set $letter_v 55
set $letter_b 56
set $letter_n 57
set $letter_m 58
set $letter_, 59
set $letter_. 60
set $letter_/ 61
#
# You can use these variables anywhere in the i3 configuration file.
#

set $base00 #2E3440
set $base01 #3B4252
set $base02 #434C5E
set $base03 #4C566A
set $base04 #D8DEE9
set $base05 #E5E9F0
set $base06 #ECEFF4
set $base07 #8FBCBB
set $base08 #88C0D0
set $base09 #81A1C1
set $base0A #5E81AC
set $base0B #BF616A
set $base0C #D08770
set $base0D #EBCB8B
set $base0E #A3BE8C
set $base0F #B48EAD

# Basic bar configuration using the Base16 variables.

exec waybar
#bar {
##   status_command waybar
#
#   height 30
#
#    mode hide
#    hidden_state hide
#    modifier Mod1
#
#    colors {
#        background $base00
#        separator  $base01
#        statusline $base04
#
#        # State             Border  BG      Text
#        focused_workspace   $base05 $base08 $base00
#        active_workspace    $base05 $base03 $base00
#        inactive_workspace  $base03 $base01 $base05
#        urgent_workspace    $base08 $base08 $base00
#        binding_mode        $base00 $base0A $base00
#    }
#}

# Basic color configuration using the Base16 variables for windows and borders.
# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base05 $base08 $base00 $base0B $base08
client.focused_inactive $base01 $base01 $base05 $base03 $base01
client.unfocused        $base01 $base00 $base05 $base01 $base01
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background       $base07
#
# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4
set $mod_alt Mod1
set $mod_gr Mod5

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
#font pango:monospace 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
# font pango:DejaVu Sans Mono 7
font pango:Monospace Bold 7

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod


############################
#  Change keyboard layout  #
############################

# Change layout but also i3 hotkeys
bindsym XF86AudioPrev exec "setxkbmap -layout de -variant neo && setxkbmap -option && xmodmap /home/stefan/.Xmod_neo_usa        && cat .config/i3/variables .config/i3/colors .config/i3/base .config/i3/hotkeys_en_usa > .config/i3/config && i3-msg reload"
bindsym XF86AudioPlay exec "setxkbmap -layout de && setxkbmap -option                                                           && cat .config/i3/variables .config/i3/colors .config/i3/base .config/i3/hotkeys_en_usa > .config/i3/config && i3-msg reload"
bindsym XF86AudioNext exec "setxkbmap -layout de -variant neo && setxkbmap -option && xmodmap /home/stefan/.Xmod_neo_hybrid     && cat .config/i3/variables .config/i3/colors .config/i3/base .config/i3/hotkeys_en_usa > .config/i3/config && i3-msg reload"

# Brightness
bindsym XF86MonBrightnessDown exec "light -T 0.9"
bindsym XF86MonBrightnessUp exec "light -T 1.1"

# Volume
bindsym XF86AudioRaiseVolume exec 'pactl set-sink-volume @DEFAULT_SINK@ +1%'
bindsym XF86AudioLowerVolume exec 'pactl set-sink-volume @DEFAULT_SINK@ -1%'
bindsym XF86AudioMute exec 'pactl set-sink-mute @DEFAULT_SINK@ toggle'


##############################
#  Background and apperance  #
##############################

exec_always swaybg -i /etc/nixos/config/minimal-mojave-night-yf-1920x1080.jpg

# Redo autorander profile indetification
exec_always autorandr --change

exec --no-startup-id CM_IGNORE_WINDOW="Keepass2Android Password Database - KeePassXC" clipmenud

exec --no-startup-id synclient NaturalScrolling=0 VertScrollDelta=-113 MaxSpeed=3.0 MinSpeed=0.1 PalmDetect=1 AccelFactor=1.0
exec --no-startup-id nm-applet
exec --no-startup-id blueman-applet
exec --no-startup-id indicator-cpufreq

exec --no-startup-id /usr/bin/gnome-keyring-daemon --start --components=ssh

default_border pixel 1
        
#########################
#  Autostart Programms  #
#########################

exec dropbox start

###########
#  Other  #
###########

for_window [class="^.*"] border pixel 2
#gaps inner 0
#smart_gaps on
#smart_borders on

# Dont change window focus on hover
focus_follows_mouse no
mouse_warping none

focus_on_window_activation none

# Hides boarders if only one window is present
hide_edge_borders smart

exec_always sudo /usr/bin/kmonad /home/stefan/Dokumente/Programmieren/Projekte/other/kmonad/keymap/user/caplett/neo_hybrid.kbd
exec_always swaymsg input type:keyboard repeat_delay 300
exec_always swaymsg input type:keyboard repeat_rate 70
# start a terminal
bindsym $mod+Return exec kitty

bindcode $mod+65 exec kitty

# kill focused window
#bindsym $mod+Shift+q exec xdotool getwindowfocus windowkill
# $letter_q = q
bindcode $mod+Shift+$letter_q kill

# start dmenu (a program launcher)
# $letter_d = d
bindcode $mod+$letter_d exec rofi -show run ssh
#
#bindsym $mod+t exec alacritty -e nvim -c 'VimwikiInde'
bindcode $mod+$letter_p exec kitty --title Vimwiki tmux -L kitty_ses -c "nvim -c 'VimwikiIndex'"

#Launch firefox
bindcode $mod+$letter_: exec nfirefox

#Launch arandr
bindcode $mod+$letter_i exec arandr

#Launch terminal
#bindcode $mod+$letter_o exec alacritty
bindcode $mod+$letter_o exec kitty

#Launch pavucontrol
#bindcode $mod+$letter_p exec pavucontrol

# g = $letter_g
bindcode $mod_alt+$letter_g exec xdootool_type_clipboard
# change focus
# 3 = h, $letter_j = j, $letter_k=k, $letter_l=l
bindcode $mod+$letter_h focus left
bindcode $mod+$letter_j focus down
bindcode $mod+$letter_k focus up
bindcode $mod+$letter_l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
# $letter_h = h, $letter_j = j, $letter_k=k, $letter_l=l
bindcode $mod+Shift+$letter_h move left 40px
bindcode $mod+Shift+$letter_j move down 40px
bindcode $mod+Shift+$letter_k move up 40px
bindcode $mod+Shift+$letter_l move right 40px

# alternatively, yobindsycm $mod+v exec u can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
# $letter_b = b
bindcode $mod+$letter_b split h

# split in vertical orientation
# $letter_v = v
bindcode $mod+$letter_v split v

# enter fullscreen mode for the focused container
# $letter_f = f
bindcode $mod+$letter_f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
# $letter_s = s, $letter_w = w, $letter_e=e
bindcode $mod+$letter_s layout stacking
bindcode $mod+$letter_w layout tabbed
bindcode $mod+$letter_e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
#bindsym $mod+space focus mode_toggle

# focus the parent container
# $letter_a = a
bindcode $mod+$letter_a focus parent

# focus the child container
# $letter_z = z
bindcode $mod+$letter_z focus child

# switch to workspace
bindcode $mod_alt+$letter_y workspace ⬁
bindcode $mod_alt+$letter_u workspace 1
bindcode $mod_alt+$letter_i workspace 2
bindcode $mod_alt+$letter_o workspace 3
bindcode $mod_alt+$letter_p workspace ⬀
bindcode $mod_alt+$letter_h workspace ⇦
bindcode $mod_alt+$letter_j workspace 4
bindcode $mod_alt+$letter_k workspace 5
bindcode $mod_alt+$letter_l workspace 6
bindcode $mod_alt+$letter_: workspace ⇨
bindcode $mod_alt+$letter_n workspace ⬃
bindcode $mod_alt+$letter_m workspace 7
bindcode $mod_alt+$letter_, workspace 8
bindcode $mod_alt+$letter_. workspace 9
bindcode $mod_alt+$letter_/ workspace ⬂

# move focused container to workspace
bindcode $mod_alt+Shift+$letter_y move container to workspace ⬁
bindcode $mod_alt+Shift+$letter_u move container to workspace 1
bindcode $mod_alt+Shift+$letter_i move container to workspace 2
bindcode $mod_alt+Shift+$letter_o move container to workspace 3
bindcode $mod_alt+Shift+$letter_p move container to workspace ⬀
bindcode $mod_alt+Shift+$letter_h move container to workspace ⇦
bindcode $mod_alt+Shift+$letter_j move container to workspace 4
bindcode $mod_alt+Shift+$letter_k move container to workspace 5
bindcode $mod_alt+Shift+$letter_l move container to workspace 6
bindcode $mod_alt+Shift+$letter_: move container to workspace ⇨
bindcode $mod_alt+Shift+$letter_n move container to workspace ⬃
bindcode $mod_alt+Shift+$letter_m move container to workspace 7
bindcode $mod_alt+Shift+$letter_, move container to workspace 8
bindcode $mod_alt+Shift+$letter_. move container to workspace 9
bindcode $mod_alt+Shift+$letter_/ move container to workspace ⬂

# set monitor for workspace
workspace ⬁ output eDP-1
workspace 1 output DP-1 eDP-1   
workspace 2 output DP-1 eDP-1   
workspace 3 output DP-1 eDP-1   
workspace ⬀ output DP-1 eDP-1      
workspace ⇦ output DP-1 eDP-1      
workspace 4 output DP-1 eDP-1   
workspace 5 output DP-1 eDP-1   
workspace 6 output DP-1 eDP-1   
workspace ⇨ output DP-1 eDP-1      
workspace ⬃ output DP-1 eDP-1      
workspace 7 output DP-1 eDP-1   
workspace 8 output DP-1 eDP-1   
workspace 9 output DP-1 eDP-1   
workspace ⬂ output DP-1 eDP-1      

#####################
#  Toggle Touchpad  #
#####################

bindcode Control+$letter_. exec "/home/stefan/Dokumente/Programmieren/Projekte/capG/touchpad_toggle/touchpad_toogle.py"
bindcode $mod_alt+108 exec "/home/stefan/Dokumente/Programmieren/Projekte/capG/touchpad_toggle/touchpad_toogle.py"

#################################
#  Toggle Laptop screen on/off  #
#################################

bindcode 127` exec "/run/current-system/sw/bin/togglebacklight"

#################################
#  Toggle Laptop screen on/off  #
#################################

bindcode 202 exec "/home/stefan/Dokumente/Programmieren/Projekte/Burnit/toggle_laptop_backlight/toogle_laptop_backlight.sh"

############################################################
#  Move Window Between Primary Montior and Laptop Monitor  #
############################################################

bindcode $mod_alt+12 exec "/home/stefan/Dokumente/Programmieren/Projekte/Burnit/i3_move_between_screens/i3_move_to_primary_screen.sh"
bindcode $mod_alt+11 exec "/home/stefan/Dokumente/Programmieren/Projekte/Burnit/i3_move_between_screens/i3_move_to_laptop.sh"

################
#  Lockscreen  #
################

#bindcode $mod+$letter_p exec "i3lock-fancy -pg"

######################
#  General Settings  #
######################

# reload the configuration file
#bindsym $mod+Shift+c reload
# $letter_c = c
#bindcode $mod+Shift+$letter_c exec "cat .config/i3/colors .config/i3/base .config/i3/hotkeys_en_usa > .config/i3/config && i3-msg reload"
bindsym $mod+Shift+c exec "cat .config/i3/variables .config/i3/colors .config/i3/base .config/i3/hotkeys_en_usa > .config/i3/config && i3-msg reload"
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
# $letter_r = r
#bindcode $mod+Shift+$letter_r exec i3-msg restart && sleep 0.3 && i3-msg reload
bindsym $mod+Shift+r exec i3-msg restart && sleep 0.3 && i3-msg reload
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym l resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym j resize shrink height 10 px or 10 ppt
        bindsym h resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Right resize shrink width 10 px or 10 ppt
        bindsym Up resize grow height 10 px or 10 ppt
        bindsym Down resize shrink height 10 px or 10 ppt
        bindsym Left resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# $letter_r = r
bindcode $mod+$letter_r mode "resize"

bindcode $mod+$letter_/ move scratchpad
bindcode $mod+$letter_m scratchpad show
bindcode $mod+$letter_, [class="Alacritty"] scratchpad show
bindcode $mod+$letter_. [class="KeePassXC"] scratchpad show

exec "systemctl --user import-environment; systemctl --user start sway-session.target"

exec swaymsg "workspace 7; exec keepassxc;"
exec swaymsg "workspace 4; exec firefox;"

exec swaymsg 'for_window [name=".*Todoist.*"] move window to workspace 1'
exec swaymsg 'for_window [name="Todoist"] move window to workspace 1'
exec swaymsg 'for_window [title=".*Todoist"] move to workspace 1'
exec swaymsg 'for_window [title=".*Todoist.*"] move to workspace 1'

exec swaymsg 'for_window [name=".*Raindrop.*"] move window to workspace 2'
exec swaymsg 'for_window [name="Raindrop"] move window to workspace 2'
exec swaymsg 'for_window [title=".*Raindrop"] move to workspace 2'
exec swaymsg 'for_window [title=".*Raindrop.*"] move to workspace 2'


# 110 = Pos 1 key
# bindcode 110 exec "/run/current-system/sw/bin/togglebacklight"

